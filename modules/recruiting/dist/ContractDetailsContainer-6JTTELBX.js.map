{
  "version": 3,
  "sources": ["../src/views/Contract-details/container/ContractDetailsContainer.tsx", "../src/views/Contract-details/hooks/useBreadCrumbContract.tsx", "../src/views/Contract-details/hooks/useContractDetailsQuery.tsx", "../src/views/Contract-details/query/ContractDetailsQuery.tsx", "../src/views/Contract-details/hooks/useContractEditForm.tsx"],
  "sourcesContent": ["import { Box, BreadCrumb, Button, ControlList, Dialog, GenericSuspense, useFileUrl, useGraphqlDelete, useTranslationRoute } from \"@mzara/component\";\r\nimport { Badge } from \"containers/components/Badge\";\r\nimport moment from \"moment\";\r\nimport React, { useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { useBreadCrumbContract } from \"../hooks/useBreadCrumbContract\";\r\nimport { useContractDetailsQuery } from \"../hooks/useContractDetailsQuery\";\r\nimport { useContractEditForm } from \"../hooks/useContractEditForm\";\r\n\r\n\r\nconst ContractDetailsContainer = () => {\r\n    const { id } = useParams()\r\n    const { data, invalidateQuery } = useContractDetailsQuery(parseInt(id), true);\r\n    const FileUrl = useFileUrl()\r\n    const breadcrumbItems = useBreadCrumbContract();\r\n    const deleteMutation = useGraphqlDelete('employeeContract')\r\n    const [open, setOpen]=useState(false);\r\n    const [openDelete, setOpenDelete]=useState(false);\r\n    const [url, setUrl]= useState('');\r\n    const handleOnDownload=(id)=>{\r\n        \r\n        setUrl(FileUrl(id))\r\n}\r\n\r\n\r\n    const control = useContractEditForm(parseInt(id));\r\n    const handleOnEdit=()=>{\r\n        setOpen(true)\r\n    }\r\n\r\n    const closeDialog = () => {\r\n        setOpen(false);\r\n        invalidateQuery();\r\n    }\r\n    const handleOnDelete = ()=> {\r\n        setOpenDelete(true)\r\n    }\r\n\r\n    const navigate = useNavigate()\r\n    const t = useTranslationRoute()\r\n\r\n    const handleDeleteConfirmed = () => {\r\n        deleteMutation.mutate({\r\n            ids: data?.id\r\n        }, {\r\n            onSuccess: () => {\r\n                invalidateQuery();\r\n                setOpenDelete(false);\r\n                navigate(t('recruiting/contract'))\r\n            }\r\n        })\r\n    }\r\n    return (<>\r\n        <div className=\"flex flex-col gap-4 w-full justify-start \">\r\n            <section className=\"py-3 pl-5 pr-3 flex flex-1 flex-col gap-5\">\r\n                <h3>D\u00E9tails de Contrat </h3>\r\n                <BreadCrumb items={breadcrumbItems} />\r\n                <Box>\r\n                    <div className=\"flex gap-12 items-center justify-between\">\r\n                        <div className=\"flex flex-col gap-6\">\r\n                            <div className=\"flex gap-4 items-center\">\r\n                                <h4>{data.designation}</h4>\r\n                                {data.isPublic ? (<Badge className=\"h-4 items-center\" label=\"Publique\" color=\"var(--primary)\" />) : ''}\r\n                            </div>\r\n                            <div className=\"flex gap-2  items-center\">\r\n                                <i className=\"fa-solid fa-clock fa-md text-[#6C6868]\"></i>\r\n                                <p>{moment(data.createdAt).format('DD/MM/YYYY')}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex flex-col gap-12\">\r\n                            <div className=\"flex gap-4\">\r\n                                <Button\r\n                                    label=\"Supprimer\"\r\n                                    className=\"!rounded-full !bg-danger h-8 text-white\"\r\n                                    onClick={handleOnDelete}\r\n                                />\r\n                                <Button\r\n                                    label=\"Modifier\"\r\n                                    className=\"!rounded-full !bg-[#023e96] h-8 text-white\"\r\n                                    onClick={()=>handleOnEdit()}\r\n                                />\r\n                            </div>\r\n                           {data?.file && (\r\n                                <div className=\"flex w-full justify-end\">\r\n                                <a href={url}>\r\n                                <Button\r\n                                        label=\"T\u00E9l\u00E9charger\"\r\n                                        className=\"!rounded-full button-bg-primary h-8 text-white\"\r\n                                        onClick={()=>handleOnDownload(data?.file?.id)}\r\n                                />\r\n                                </a>\r\n                           </div>\r\n\r\n                           )}\r\n                        </div>\r\n                    </div>\r\n                </Box>\r\n\r\n            </section>\r\n            <Dialog\r\n                open={open}\r\n                title=\"Modifier le contrat\"\r\n                onDismiss={() => closeDialog()}>\r\n                <GenericSuspense>\r\n                    <ControlList\r\n                        {...control}\r\n                        onSubmited={() => closeDialog()}\r\n                        onCancel={() => closeDialog()}\r\n                    />\r\n                </GenericSuspense>\r\n            </Dialog>\r\n        </div>\r\n\r\n        <Dialog\r\n                    open={openDelete}\r\n                    onDismiss={() => setOpenDelete(false)}\r\n                    onCancel={() => setOpenDelete(false)}\r\n                    onConfirm={() => handleDeleteConfirmed()}\r\n                    title='\u00EAtes-vous s\u00FBre?'\r\n                    btnOk={{ label: 'Ok', isSubmit: deleteMutation.isLoading }}\r\n                    btnCancel={{ label: 'Annuler' }}\r\n                />\r\n\r\n    </>);\r\n}\r\nexport default ContractDetailsContainer;\r\n\r\n\r\n", "import { BreadCrumbItemProps } from \"@mzara/component\";\r\n\r\nexport const useBreadCrumbContract = (): Array<BreadCrumbItemProps> => {\r\n    return [\r\n        {\r\n            label: \"Home\",\r\n        },\r\n        {\r\n            label: \"Template\",\r\n        },\r\n        {\r\n            label: \"Contract\",\r\n        },\r\n    ];\r\n};\r\n", "import { useGraphqlQuery } from \"@mzara/component\";\r\nimport { ContractDetailsQuery } from \"../query/ContractDetailsQuery\";\r\n\r\nexport const useContractDetailsQuery = (id?: number, suspense?: boolean)=>{\r\n    return useGraphqlQuery (new ContractDetailsQuery({id}),  {enabled : id!==undefined, suspense})\r\n}", "import { GraphQLQueryClass } from \"@mzara/component\";\r\nimport { TEmployeeContract, TEmployeeContractsResponse } from \"@mzara/graphql\";\r\n\r\nexport class ContractDetailsQuery implements GraphQLQueryClass<TEmployeeContract, TContractResponse >{\r\n    public queryKey: string='App.Harea.ContractDetailsQuery.details';\r\n    public gql: string= `\r\n    query employeeContractDetails($id: Float){\r\n        employeeContract(filter: {id : $id}) {\r\n            id designation isPublic file{id name} tags{value tp }\r\n        }\r\n      \r\n      }\r\n    `\r\nvariables?: any;\r\n\r\nconstructor(variables?: any){\r\n    this.variables = variables\r\n}\r\nmapFn(data: TContractResponse ) : TEmployeeContract {\r\n    return data.employeeContract\r\n}\r\n}\r\n\r\nexport type TContractResponse = {\r\n    employeeContract: TEmployeeContract\r\n}", "import { ControlListProps } from \"@mzara/component\";\r\n\r\nexport const useContractEditForm = (id?: number):ControlListProps => {\r\n    return {\r\n        data: {\r\n            forms: [\r\n                {\r\n                    type: 'hidden',\r\n                    name : 'id',\r\n                },\r\n                {\r\n                    type: 'text',\r\n                    name: 'designation',\r\n                    label: \"Designation\"\r\n                },\r\n                {\r\n                    type: 'toggle',\r\n                    name: 'isPublic',\r\n                    label: \"Rendre publique\"\r\n                },\r\n                {\r\n                    type: 'lov-select',\r\n                    multiple: true,\r\n                    name: 'tags',\r\n                    label: 'tags',\r\n                    tp: 'EMPOLYEE_CONTRACT_TAGS'\r\n                }\r\n            ],\r\n            value: {},\r\n            next: {\r\n                label: \"Modifier le Contrat\"\r\n            },\r\n            back: {\r\n                label: \"Annuler la modification\"\r\n            },\r\n            graphQL: {\r\n                entity: 'employeeContract',\r\n                entityId: id,\r\n            }\r\n        },\r\n        id: 'employeeContractsEdit-add-form'\r\n    }\r\n}"],
  "mappings": "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",
  "names": ["id"]
}
